(function(t){function e(e){for(var a,r,n=e[0],c=e[1],l=e[2],u=0,m=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),o=s.n(a);o.a},"044e":function(t,e,s){t.exports=s.p+"img/amplify8.112a3824.png"},1:function(t,e){},2759:function(t,e,s){},"3cb4":function(t,e,s){},4475:function(t,e,s){"use strict";var a=s("607a"),o=s.n(a);o.a},"506f":function(t,e,s){"use strict";var a=s("3cb4"),o=s.n(a);o.a},"530b":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=s("b9e2"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-whole",attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[a("img",{staticClass:"img-fluid our-logo",attrs:{src:s("044e"),alt:""}})]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}}),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[a("router-link",{staticClass:"nav-link",staticStyle:{color:"purple"},attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e(),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Favorites"==t.$route.name}},[a("router-link",{staticClass:"nav-link",staticStyle:{color:"purple"},attrs:{to:{name:"Favorites"}}},[t._v("My Favorites")])],1):t._e(),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Recommends"==t.$route.name}},[a("router-link",{staticClass:"nav-link",staticStyle:{color:"purple"},attrs:{to:{name:"Recommends"}}},[t._v("See what your friends recommend")])],1):t._e()]),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],l=s("bc3a"),d=s.n(l),u=s("335d"),m={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),this.$store.dispatch("joinRoom",this.$auth.userInfo.email))},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},p=m,h=(s("4475"),s("2877")),v=Object(h["a"])(p,n,c,!1,null,"106c6ed6",null),g=v.exports,f={name:"App",async beforeCreate(){this.$store.dispatch("initalizeSocket"),await Object(u["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),this.$store.dispatch("joinRoom",this.$auth.userInfo.email))},components:{Navbar:g}},b=f,y=(s("034f"),Object(h["a"])(b,i,r,!1,null,null,null)),C=y.exports,w=s("8c4f"),_=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home text-center"},[a("h4",{staticClass:"pretty",staticStyle:{"padding-top":"2em"}},[t._v(" Have you ever heard a song and thought, "),a("br"),t._v('"My friend is going to love this..." ')]),a("h1",{staticClass:"pretty",staticStyle:{"padding-top":"4em"}},[t._v("Welcome to Amplify")]),a("h3",{staticClass:"pretty",staticStyle:{"padding-top":"1em"}},[t._v("A place where music is shared freely")]),a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleControls","data-ride":"carousel"}},[a("div",{staticClass:"carousel-inner",staticStyle:{"padding-top":"8em"}},[a("div",{staticClass:"carousel-item active"},[a("img",{staticClass:"d-block w-100",attrs:{src:s("66f7"),alt:"..."}})]),a("div",{staticClass:"carousel-item"},[a("img",{staticClass:"d-block w-100",attrs:{src:s("d668"),alt:"..."}})]),a("div",{staticClass:"carousel-item"},[a("img",{staticClass:"d-block w-100",attrs:{src:s("8426"),alt:"..."}})])]),a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])]),a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row",staticStyle:{"padding-top":"10em"}},[a("div",{staticClass:"col-sm-6"},[a("h1",{staticClass:"pretty"},[t._v("About Us")]),a("br"),a("h4",{staticClass:"pretty"},[a("p",[t._v("We believe that your friends know you better than an algorithm")]),a("p",[t._v("We believe in opportunity to discover new genres")]),a("p",[t._v("We believe in community through music")]),a("p",[t._v("We created Amplify to help you expand your musical horizons and promote your favorite artists. Music is better with friends. Let us help you share!")]),a("p",[t._v("Amplify your world")])])]),a("div",{staticClass:"col-sm-6"},[a("img",{attrs:{src:s("f732"),alt:""}})])]),a("div",{staticClass:"row c",staticStyle:{"padding-top":"8em","padding-bottem":"6em"}},[a("div",{staticClass:"col-sm-6"},[a("img",{staticClass:"display: block; max-width: 100%; height:auto;",attrs:{src:s("ccd9"),alt:""}})]),a("div",{staticClass:"col-sm-6"},[a("h1",{staticClass:"pretty"},[t._v("Helping Artists")]),a("br"),a("h4",{staticClass:"pretty"},[t._v("We help artists by giving them a network to discover new genres, and find what people in our community are listening to. We give artists a chance to grow and find the next new style.")])])])]),a("footer",{staticClass:"gradient",staticStyle:{"margin-top":"6em"}},[a("h3",{staticStyle:{color:"purple"}},[t._v("Amplify")])])])}],x={name:"home"},D=x,k=(s("cccb"),Object(h["a"])(D,_,S,!1,null,null,null)),F=k.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid about text-light"},[s("div",{staticClass:"row justify-content-between pt-2"},[s("div",{staticClass:"col-3"},[s("router-link",{staticStyle:{color:"white"},attrs:{to:{name:"Recommends"}}},[s("i",{staticClass:"icon-large far fa-bell fa-3x"},[t.recommendedSongs.length>0?s("span",{staticClass:"notify"},[t._v(t._s(t.recommendedSongs.length))]):t._e()])])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center"},["New User"==t.profile.username?s("div",[s("div",{staticClass:"card border-danger mb-3",staticStyle:{"max-width":"20rem"}},[s("div",{staticClass:"card-header",staticStyle:{color:"red"}},[t._v("Please Create A User Name!")]),s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.changeUserName(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUsername.body,expression:"newUsername.body"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Enter New User Name Here...",rows:"1"},domProps:{value:t.newUsername.body},on:{input:function(e){e.target.composing||t.$set(t.newUsername,"body",e.target.value)}}}),t._v("\\ "),s("button",{staticClass:"btn-sm btn-outline-danger",attrs:{type:"submit"}},[t._v("OK")])])])])]):t._e()])]),s("div",{staticClass:"col-12 text-center",staticStyle:{"padding-top":"4em"}},[s("h3",{staticClass:"text-light"},[t._v(" Welcome "),s("span",{staticStyle:{color:"purple","text-decoration":"underline"}},[t._v(t._s(t.profile.username))])]),s("br"),s("img",{staticClass:"rounded text-center",staticStyle:{display:"inline-flex"},attrs:{src:t.profile.picture,alt:""}}),s("p",[t._v(t._s(t.profile.email))]),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-3"},[t._v(" Enjoyed: "),s("br"),s("h2",{staticClass:"score"},[t._v(t._s(t.profile.positiveRecommend))])]),t._m(0),s("div",{staticClass:"col-3"},[t._v(" Sent: "),s("br"),s("h2",{staticClass:"score"},[t._v(t._s(t.profile.totalRecommends))])]),t._m(1),s("div",{staticClass:"col-3"},[t._v(" Score: "),s("br"),0==t.profile.totalRecommends?s("h2",{staticClass:"score"},[t._v("0%")]):s("h2",{staticClass:"score"},[t._v(t._s(Math.round(t.profile.positiveRecommend/t.profile.totalRecommends*100))+"%")])])])]),s("div",{staticClass:"col-12 text-center"},[s("div",{staticClass:"row",staticStyle:{"padding-top":"2em"},attrs:{id:"search"}},[s("div",{staticClass:"col-12 justify-content-center pb-4"},[s("form",{staticClass:"row justify-content-center",on:{submit:function(e){return e.preventDefault(),t.searchiTunes(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input",attrs:{type:"text",placeholder:"Search For Tracks..."},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),s("button",{staticClass:"search btn btn-outline-success",attrs:{type:"submit"}},[t._v("Search")])])])])]),s("div",{staticClass:"row justify-content-center",attrs:{id:"search-results"}},t._l(t.searchedSongs,(function(t){return s("song",{key:t.id,attrs:{songData:t}})})),1)])},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-1"},[s("br"),s("h2",{staticClass:"score"},[t._v("/")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-1"},[s("br"),s("h2",{staticClass:"score"},[t._v("=")])])}],E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-11 col-md-8 song"},[s("div",{staticClass:"row bg-pers p-3"},[s("div",{staticClass:"col-12 text-center pb-3"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.recommendTo}},[t._v("recommend to...")]),s("button",{staticClass:"btn btn-sm btn-secondary",on:{click:t.addToFavorites}},[t._v("add to favorites")])]),s("div",{staticClass:"col-4 text-center"},[s("img",{attrs:{src:t.songData.albumArtSmall,alt:""}})]),s("div",{staticClass:"col-8 text-left"},[s("p",[s("b",[t._v(t._s(t.songData.title))])]),s("p",[t._v(t._s(t.songData.artist))]),s("p",[t._v(t._s(t.songData.album))])]),s("div",{staticClass:"col-12 text-center audio"},[s("audio",{attrs:{controls:""}},[s("source",{attrs:{src:t.songData.preview,type:"audio/ogg"}})])])]),t._m(0)])},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("br")])])}],T={name:"song",props:["songData"],data(){return{}},computed:{songs(){return this.$store.state.searchedSongs},profile(){return this.$store.state.profile}},methods:{addToFavorites(){this.newFavorite={artist:this.songData.artist,album:this.songData.album,title:this.songData.title,preview:this.songData.preview,price:this.songData.price,id:this.songData.id,albumArt:this.songData.albumArt,albumArtSmall:this.songData.albumArtSmall,albumArtLarge:this.songData.albumArtLarge},this.$store.dispatch("addToFavorites",this.newFavorite),this.$swal("Success!","This song is now in your favorites","success")},recommendTo(){let t=this.songData,e=this.profile.email;this.$swal({title:"Recommend this song to...",input:"email",inputPlaceholder:"Enter your friend's email",showCloseButton:!0}).then(s=>{this.$store.dispatch("recommendToFromSearch",{email:s,song:t,creatorEmail:e})})}},components:{}},j=T,O=(s("506f"),Object(h["a"])(j,E,P,!1,null,"6e3423c6",null)),N=O.exports,U={name:"Profile",mounted(){return this.$store.dispatch("getRecommends")},data(){return{query:"",newUsername:{}}},computed:{profile(){return this.$store.state.profile},recommendedSongs(){return this.$store.state.recommendedSongs},searchedSongs(){return this.$store.state.searchedSongs}},methods:{searchiTunes(){this.$store.dispatch("getMusicByQuery",this.query)},changeUserName(){let t=this.newUsername.body;this.$store.dispatch("changeUserName",t)}},components:{song:N}},B=U,M=(s("8efe"),Object(h["a"])(B,R,A,!1,null,"18e77c48",null)),q=M.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[t._m(0),s("div",{staticClass:"row justify-content-center",attrs:{id:"search-results"}},t._l(t.searchedSongs,(function(t){return s("song",{key:t.id,attrs:{songData:t}})})),1),s("div",{staticClass:"row justify-content-center"},t._l(t.recommendedSongs,(function(t){return s("song",{key:t.id,attrs:{songData:t}})})),1)])},W=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row text-center"},[s("div",{staticClass:"col-12 p-3"},[s("h5",[t._v("Here is a list of songs your friends think you might like!")])])])}],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-11 col-md-8 song"},[s("div",{staticClass:"row bg-pers p-3"},[s("div",{staticClass:"col-12 text-center pb-3"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.recommendTo}},[t._v("recommend to...")]),s("button",{staticClass:"btn btn-sm btn-secondary",on:{click:t.removeFromFavorites}},[t._v("remove")])]),s("div",{staticClass:"col-4 text-center"},[s("img",{attrs:{src:t.songData.Song.albumArtSmall,alt:""}})]),s("div",{staticClass:"col-8 text-left text-light"},[s("p",[s("b",[t._v(t._s(t.songData.Song.title))])]),s("p",[t._v(t._s(t.songData.Song.artist))]),s("p",[t._v(t._s(t.songData.Song.album))])]),s("div",{staticClass:"col-12"},[s("audio",{attrs:{controls:""}},[s("source",{attrs:{src:t.songData.Song.preview,type:"audio/ogg"}})])])]),t._m(0)])},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("br")])])}],z={name:"song",props:["songData"],data(){return{}},computed:{},methods:{removeFromFavorites(){this.$store.dispatch("deleteFavorite",this.songData.id)},recommendTo(){let t=this.songData;this.$swal({title:"Recommend this song to...",input:"email",inputPlaceholder:"Enter your friend's email",showCloseButton:!0}).then(e=>{this.$store.dispatch("recommendTo",{email:e,song:t})})}},components:{}},J=z,I=(s("fedd"),Object(h["a"])(J,H,Q,!1,null,"2b001e89",null)),G=I.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-11 col-md-8 song"},[s("div",{staticClass:"row bg-pers p-3"},[s("div",{staticClass:"col-12 text-center pb-3"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.recommendTo}},[t._v("recommend to...")])]),t._m(0),s("div",{staticClass:"col-4 text-center"},[s("img",{attrs:{src:t.songData.song.albumArtSmall,alt:""}})]),s("div",{staticClass:"col-8 text-left text-light"},[s("p",[s("b",[t._v(t._s(t.songData.song.title))])]),s("p",[t._v(t._s(t.songData.song.artist))]),s("p",[t._v(t._s(t.songData.song.album))])]),s("div",{staticClass:"col-12 text-center"},[s("audio",{attrs:{controls:""}},[s("source",{attrs:{src:t.songData.song.preview,type:"audio/ogg"}})])]),s("div",{staticClass:"col-12 text-center buttons"},[s("button",{staticClass:"btn btn-info btn-outline-success text-light col-6 col-md-4",on:{click:t.like}},[t._v("Like")]),s("button",{staticClass:"btn btn-warning btn-outline-danger text-light col-6 col-md-4",on:{click:t.mehThis}},[t._v("Meh")])])]),t._m(1)])},Z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("br")])])}],V={name:"rec-song",props:["songData"],data(){return{}},computed:{profile(){return this.$store.state.profile}},methods:{removeFromFavorites(){this.$store.dispatch("deleteFavorite",this.songData.id)},addToFavorites(){this.newFavorite={artist:this.songData.song.artist,album:this.songData.song.album,title:this.songData.song.title,preview:this.songData.song.preview,price:this.songData.song.price,id:this.songData.song.id,albumArt:this.songData.song.albumArt,albumArtSmall:this.songData.song.albumArtSmall,albumArtLarge:this.songData.song.albumArtLarge},this.$store.dispatch("addToFavorites",this.newFavorite),this.$swal("Success!","This song is now in your favorites","success")},like(){this.$swal("Liked and Saved!","Your friend is happy to hear you like their recommendation, it has been saved in your favorites!","success"),this.newFavorite={artist:this.songData.song.artist,album:this.songData.song.album,title:this.songData.song.title,preview:this.songData.song.preview,price:this.songData.song.price,id:this.songData.song.id,albumArt:this.songData.song.albumArt,albumArtSmall:this.songData.song.albumArtSmall,albumArtLarge:this.songData.song.albumArtLarge};let t=this.newFavorite,e=this.songData.id,s=this.songData.sender;this.$store.dispatch("like",{newFavorite:t,id:e,sender:s})},recommendTo(){let t=this.songData.song,e=this.profile.email;this.$swal({title:"Recommend this song to...",input:"email",inputPlaceholder:"Enter your friend's email",showCloseButton:!0}).then(s=>{this.$store.dispatch("recommendToFromSearch",{email:s,song:t,creatorEmail:e})})},mehThis(){this.$swal("Don't Worry!","We won't tell them that you don't care for this song!","info"),this.$store.dispatch("deleteRec",this.songData.id)}},components:{}},X=V,Y=(s("883c"),Object(h["a"])(X,K,Z,!1,null,"4eb66b2a",null)),tt=Y.exports,et={name:"Recommends",mounted(){return this.$store.dispatch("getRecommends")},data(){return{query:""}},computed:{recommendedSongs(){return this.$store.state.recommendedSongs.reverse()},searchedSongs(){return this.$store.state.searchedSongs}},methods:{searchRecommends(){this.$store.dispatch("getMusicByQueryRec",this.query)}},components:{song:tt,songsf:G}},st=et,at=(s("a0ad"),Object(h["a"])(st,L,W,!1,null,null,null)),ot=at.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid text-center"},[s("div",{staticClass:"row text-light p-3 pb-4",attrs:{id:"search"}},[s("div",{staticClass:"col-12 justify-content-center"},[s("h1",[t._v("My Favorites")]),s("form",{staticClass:"row justify-content-center",on:{submit:function(e){return e.preventDefault(),t.searchFavorites(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input",attrs:{type:"text",placeholder:"search within favorites"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),s("button",{staticClass:"search btn btn-outline-success",attrs:{type:"submit"}},[t._v("Search")])])])]),s("div",{staticClass:"row justify-content-center",attrs:{id:"search-results"}},t._l(t.searchedSongs,(function(t){return s("songs",{key:t.id,attrs:{songData:t}})})),1),s("div",{staticClass:"row justify-content-center"},t._l(t.favorites,(function(t){return s("songs",{key:t.id,attrs:{songData:t}})})),1)])},rt=[],nt={name:"Favorites",mounted(){return this.$store.dispatch("getFavoritesByEmail")},data(){return{query:""}},computed:{favorites(){return this.$store.state.favoriteSongs.reverse()},profile(){return this.$store.state.profile},searchedSongs(){return this.$store.state.searchedSongs}},methods:{searchFavorites(){this.$store.dispatch("getMusicByQueryFav",this.query)}},components:{songs:G}},ct=nt,lt=(s("d6c7"),Object(h["a"])(ct,it,rt,!1,null,null,null)),dt=lt.exports;a["a"].use(w["a"]);const ut=[{path:"/",name:"Home",component:F},{path:"/profile",name:"Profile",component:q,beforeEnter:u["b"]},{path:"/favorites",name:"Favorites",component:dt,beforeEnter:u["b"]},{path:"/recommends",name:"Recommends",component:ot,beforeEnter:u["b"]}],mt=new w["a"]({routes:ut});var pt=mt,ht=s("2f62");class vt{constructor(t){this.artist=t.artist||t.artistName,this.album=t.album||t.collectionName,this.title=t.title||t.trackName,this.preview=t.preview||t.previewUrl,this.price=t.price||t.trackPrice,this.id=t.id||t.trackId,this.albumArt=t.albumArt||t.artworkUrl100.replace(/100x100/g,"300x300"),this.albumArtSmall=this.albumArt.replace(/300x300/g,"90x90"),this.albumArtLarge=this.albumArt.replace(/300x300/g,"500x500")}}let gt=location.host.includes("localhost")?"http://localhost:3000/":"/";const ft=d.a.create({baseURL:gt+"api",timeout:3e3,withCredentials:!0});d.a.create({baseURL:"//bcw-sandbox.herokuapp.com"});var bt=s("8055"),yt=s.n(bt);let Ct={};const wt={actions:{initalizeSocket({commit:t,dispatch:e}){Ct=yt()("//localhost:3000"),Ct.on("CONNECTED",t=>{console.log("Connected to socket, Amplify")}),Ct.on("newPositiveScore",e=>{t("addPositive",e)}),Ct.on("newTotalScore",e=>{t("setProfile",e)}),Ct.on("newRec",e=>{t("addRecommends",e)})},joinRoom({commit:t,dispatch:e},s){Ct.emit("dispatch",{action:"JoinRoom",data:s})}}},_t={actions:{async getMusicByQueryFav({commit:t,dispatch:e},s){try{let e=await ft.get("favorites/"+s);t("setSearchedSongs",e.data)}catch(a){}},async addToFavorites({commit:t,dispatch:e},s){let a=await ft.get("favorites"),o=s.id,i=a.data.filter(t=>t.Song.id=o);if(console.log(i),0==i.length){let e=await ft.post("favorites",{Song:s});t("addFavorite",e.data)}else console.log("already in favorites")},async getFavoritesByEmail({commit:t,dispatch:e}){let s=await ft.get("favorites");t("setFavorites",s.data)},async deleteFavorite({commit:t,dispatch:e},s){await ft.delete("favorites/"+s);e("getFavoritesByEmail")}}},St={actions:{async getMusicByQueryRec({commit:t,dispatch:e},s){try{let e=await ft.get("recommends/"+s);t("setSearchedSongs",e.data)}catch(a){}},async recommendTo({commit:t,dispatch:e},{email:s,song:a}){let o={receiver:s.value,song:a.Song,sender:a.creatorEmail};await ft.post("recommends",o);e("getTotalForPut")},async recommendToFromSearch({commit:t,dispatch:e},{email:s,song:a,creatorEmail:o}){let i={receiver:s.value,song:a,sender:o};await ft.post("recommends",i);e("getTotalForPut"),e("getRecommends")},async getRecommends({commit:t,dispatch:e}){let s=await ft.get("recommends");t("setRecommends",s.data)},async deleteRec({commit:t,dispatch:e},s){await ft.delete("recommends/"+s);e("getRecommends")},like({commit:t,dispatch:e},{newFavorite:s,id:a,sender:o}){e("addToFavorites",s),e("likedRecommend",o),e("deleteRec",a)},async likedRecommend({commit:t,dispatch:e},s){await ft.put("profile/positive/"+s)}}};a["a"].use(ht["a"]);var xt=new ht["a"].Store({state:{profile:{},searchedSongs:[],recommendedSongs:[],favoriteSongs:[]},mutations:{setProfile(t,e){t.profile=e},setSearchedSongs(t,e){t.searchedSongs=e},addFavorite(t,e){t.favoriteSongs.push(e)},setFavorites(t,e){t.favoriteSongs=e},setRecommends(t,e){t.recommendedSongs=e},addRecommends(t,e){t.recommendedSongs.push(e)},addPositive(t,e){t.profile.positiveRecommend=e}},actions:{setBearer({},t){ft.defaults.headers.authorization=t},resetBearer(){ft.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await ft.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getMusicByQuery({commit:t,dispatch:e},s){try{let e="https://itunes.apple.com/search?callback=?&term="+s;$.getJSON(e).then(e=>{let s=e.results.filter(t=>"song"==t.kind).map(t=>new vt(t));t("setSearchedSongs",s)}).catch(t=>{console.log(t)})}catch{}},async changeUserName({commit:t,dispatch:e},s){let a=await ft.put("profile/username",{username:s});t("setProfile",a.data)},async getTotalForPut({commit:t,dispatch:e}){let s=await ft.get("profile");e("scoreTotalRec",s.data.totalRecommends)},async scoreTotalRec({commit:t,dispatch:e},s){try{let e={totalRecommends:s+1},a=await ft.put("profile/total",e);t("setProfile",a.data)}catch(a){}},async getPositivesForPut({commit:t,dispatch:e}){let s=await ft.get("profile");e("scoreGoodRec",s.data.positiveRecommend)},updateScore({commit:t,dispatch:e},s){console.log(s)},async scoreGoodRec({commit:t,dispatch:e},s){try{let e={positiveRecommend:s+1},a=await ft.put("profile/positive",e);t("setProfile",a.data)}catch(a){}},async getScoreVariables({commit:t,dispatch:e}){await ft.get("profile")}},modules:{favoriteStore:_t,recommendStore:St,socketStore:wt}});const $t="levi-bruner.auth0.com",Dt="https://amplify-endpoint",kt="Xup5NvdAfEMOS3wZx370ZcKuJtqwCOru";a["a"].use(u["a"],{domain:$t,clientId:kt,audience:Dt,onRedirectCallback:t=>{pt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),a["a"].use(o["a"]),new a["a"]({router:pt,store:xt,render:function(t){return t(C)}}).$mount("#app")},"5ced":function(t,e,s){},"607a":function(t,e,s){},"62b5":function(t,e,s){},"66f7":function(t,e,s){t.exports=s.p+"img/amplify3.bf56d71b.png"},8426:function(t,e,s){t.exports=s.p+"img/amplify5.c9230d37.png"},"85ec":function(t,e,s){},"883c":function(t,e,s){"use strict";var a=s("2759"),o=s.n(a);o.a},"8efe":function(t,e,s){"use strict";var a=s("62b5"),o=s.n(a);o.a},"91b5":function(t,e,s){},a0ad:function(t,e,s){"use strict";var a=s("530b"),o=s.n(a);o.a},cccb:function(t,e,s){"use strict";var a=s("5ced"),o=s.n(a);o.a},ccd9:function(t,e,s){t.exports=s.p+"img/amplify7.7fff5734.png"},d668:function(t,e,s){t.exports=s.p+"img/amplify4.fc38993d.png"},d6c7:function(t,e,s){"use strict";var a=s("91b5"),o=s.n(a);o.a},f732:function(t,e,s){t.exports=s.p+"img/amplify6.57795690.png"},fc5d:function(t,e,s){},fedd:function(t,e,s){"use strict";var a=s("fc5d"),o=s.n(a);o.a}});